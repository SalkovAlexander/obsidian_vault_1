---
tags: 
alliaces:
---
2025-05-12
21:38
***
# Untitled 1
***
При разработке игр возникает необходимость создавать графические ассеты. Они могут включать в себя растровые и векторные изображения, анимации и 3д модели.
3Д модели делятся на несколько типов по своему назначению. Самый базовый тип 3д модели это пропс. Пропс представляет собой предмет в игровом мире, используется
преимущественно как декорация в игровом мире, также может быть игровым объектом, то есть игрок может взаимодействоватьс пропсом.К пропсам можно отнести камни, бочки,
бутылки, мебель и так далее. Следующий тип моделей это транспорт, он может быть как статичным так и с возможностью управления игроком. Еще один тип зд моделей это 
оружие, как правило оружие дается игроку и его противникам для создания возможности сражаться в играх, где это продиктовано геймдизайном. Персонажи - тоже 3д модели,
игрок зачастую сам обладает 3д моделью, которая отображает его игрового персонажа, так же у каждого противника, сожзника или неигрового персонажа есть своя 3д модель.
Здания также можно отнести к отдельному типу 3д моделей. Самые же большие 3д модели на экране у игрока - 3д модели окруженя, к ним можно отнести модель по которой 
передвигается игрок - земля, пол, асфальт, плитка, песок, небо так же является 3д моделью на которую проецируется текстурная карта неба.
Получается, что в игре, использующей 3д графику практивески все экранное пространство занято 3д моделями разного типа, они образуют игровой мир вокруг игрока, даже
элементы интерфейса в играх сосоят из 3д полигонов на которые наложен материал, который позволяет видеокарте рендерить эту геометрию как элемент интерфейса.
3д моделей даже в небольшой инди игре может быть огромное количество, и каждую такую модель нужно создать или где-то взять. Хорошо, если проект позволяет просто 
купить модель или получить бесплатно и использовать, но что если такой возможности нет. В таком случае 3д моедель нужно создать. Процесс создания 3д моделей 
называется 3д моделированием, и выплняется 3д художниками различных специализаций, в зависимости от того, какую модель нужно создать. В большенстве случаев процесс 
создания 3д моделей требует много ручного труда художника, но есть случаи, когда количество ручного труда можно значительно сократить прибегнув к помощи процедурного
моделирования.
Процедурное моделирование это процесс создания 3д модели путем выполнения программы с определенными входными параметрами. Можно ли сказать, что весь 3д контент можно
создать методами процедурного моделирования? Нет, процедурное моделирование подходит далеко не для всех случаем. Если вам нужен унакальный персонаж или строение, животное,
предмет или оружие, то выгоднее по затратам сил и времени прибегнуть к традиционному ручному моделированию, но вот если ваша задача - сделать модульный конструктор зданий,
множество похожих 3д ассетов но с разными параметрами, ассет который должен подстраиваться под окружающую его геометрию, тогда процедурное моделирование это правильный
выбор, который сэкономит много ресурсов. 
Почему же процедурное моделирование для создания чего-то уникального не подходит а для создания похожих ассетов с отличающимися параметрами наоборот подходит? Дело в том,
что в процессе создания генератора(инструмент при помощи которого создается процедурная модель) воспроизводится цепочка операций, которые может выполнить программа и которая
приведет к появлению на выходе 3д модели. Этот процесс фактически является программированием. Так же как в процессе программирования создаются программа которая решает
определенную задачу, так и в процессе создания инструмента процедурного моедлирования создается программа которая воспроизводит одну модель, но как и в любой другой программе,
на результат влияет набор параметров.
Создание инструмента который будет создавать модель X практически всегда более трудоемкий процесс чем создание модели X традиционными методами, именно поэтому генератор 
создается так, чтобы он мог принимать различные параметры, что позволит ему создавать множество Xобразных моделей но с разными параметрами, что и делает использование данного метода получение моделей выгодным.
Получается, можно создать генератор и использовать его для создания 3д графики в играх, но какие именно модели можно создать таким способом. Чаще всего процедурное
моделирование используют для трех типов моделей, для моделей окружения, для пропсов и для зданий. Например, для аркадной игры в жанре гонка нужно создать определенное
количество гоночных трасс, при этом трассы походи, различаются лишь совей формой, шириной и длинной. Конечно, можно сделать все эти трассы вручную, но что если их не 2 а 10?
В этом случае есть немалый смысл прибегнуть к процедурному моделированию и создать генератор, который будет в качестве параметров принимать небольшой сегмент трассы, значение ширины
трассы и кривую, которая будет описывать форму. Тогда после создания генератора можно будет создать один сегмент, и 10 разных кривых которые будут описывать форму трассы и 
при помощи инструмента процедурного моделирования, используя входные параметры, создать 10 трасс различной формы и длины. Это лишь один из бесчисленного множества пример использования
процедурного моделирования. Даже целые миры могут быть практически полностью быть сгенерированы процедурно, например в игре Minecraft создание миров происходит 
путем смешения различных шумов и параметров а также заранее созданных структур. При этом мир не создается полностью, а генерируется частями по мере продвижения по
нему игрока. Создание одного мира Minecraft вручную заняло бы у человек не один год.

Создание инструмента процедурного моделирования (генератора) также требует использование какого-то инструмента. Самый абстрактно простой способ это использовать язык программирования,
такой как C, Pyhon, Java или любой другой язык который позволяет интегрировать процедурное создание моделей в рабочий процесс. Например, если в качестве игрового движка 
используется Unity, то можно использовать стандартный для Unity язык C# для создания генератора. Использование языка программирования общего назначения для создание инструмента
для процедурного моделирования позволит сделать инструмент подходящий для задачи, которую нужно решить. Однако такой подход значительно усложняет задачу, так как языки общего назначения 
не обладают нужным для создания генераторов 3д контента уровнем абстракции, хоть и позволяют максимально гибко выполнять задачу. Для облегчения задачи создания генераторов 3д контента для игр
существуют специализированные решения. На данный момент самыми популярными из них являются Houdini, система Geometry nodes в Blender 3D.
Houdini и система Geometry nodes в Blender 3D предлагают широкий функционал, позволяющий создавать инструменты процедурного создания 3д графики для инг любой сложности.
Процесс строится на составлении последовательностей команд для операций над данными в результате которых получаются 3д модели. Как Blender так и Houdini предлагают создавать
генераторы из нод. Нода - структурный элемент генератора, выполняющий одну или несколько операций с данными, у ноды как правило есть вход или входы, параметры и выход или выходы.
Если в Bledner набор нод определен разработчиками, то Houdini позволяет создавать собственные ноды используя язык программирования vex.
![[Pasted image 20250512214239.png]]
Вот так выглядит набор нод в Blender geometry nodes который позволяет создавать 3д модель текста. Разберем структуру генератора.
Под номером 1 нода которая позволяет получить доступ ко всем входным параметрам генератора.
Номером 2 обозначена нода которая создает силуэты букв из кривых, эта нода принимает в качестве строки текста и размера текста параметры, к которым позволяет получить доступ нода под номером 1.
Затем данные передаются в ноду под номером 3 которая в качестве входных данных принимает кривые из ноды 2 и параметр разрешения ресемплинга.
После ресемплинга кривые преобразуются в полигональную 3д модель без объема при помощи ноды 4.
После преобразования в полигональную 3д модель без объема нода 5, 6, 7 и 8 придают объем модели используя параметр толщины.
Потом ноды 9, 10 и 11 позиционируют получившуюся 3д модель так, чтобы она находилась в нулевой позиции в  системе координат.
![[Pasted image 20250512215816.png]]
На рисунку представлен пошаговый процесс генерации 3д модели по шагам.
![[Pasted image 20250512220358.png]]
Поскольку используется процедурный подход создания 3д модели, можно менять параметры 3д модели, изменяя входные параметры генератора как показано на рисунке.
![[Pasted image 20250512222032.png]]
На рисунке можно увидеть как аналогичный генератор будет выглядеть если его создать средствами Houdini.
Как можно заметить, в hou


***
###### Zero-Links
-
***
###### Links
-